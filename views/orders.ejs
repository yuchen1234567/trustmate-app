<%- include('partials/navbar') %>

<div class="orders-page">
    <h1>My Orders</h1>
    
    <% if (orders.length === 0) { %>
        <p>You have no orders yet. <a href="/services">Start shopping</a></p>
    <% } else { %>
        <table class="orders-table">
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Date</th>
                    <th>Total</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% orders.forEach(order => { %>
                    <tr>
                        <td>#<%= order.order_id %></td>
                        <td><%= new Date(order.created_at).toLocaleDateString() %></td>
                        <td>$<%= typeof order.total_amount === 'number' ? order.total_amount.toFixed(2) : parseFloat(order.total_amount || 0).toFixed(2) %></td>
                        <td>
                            <span class="status-badge status-<%= order.status %>">
                                <%= order.status %>
                            </span>
                        </td>
                        <td>
                            <a href="/orders/<%= order.order_id %>" class="btn-view">View Details</a>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    <% } %>
</div>

<%- include('partials/footer') %>
